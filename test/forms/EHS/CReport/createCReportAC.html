<!-- <style>
  .dtHorizontalVertical {
max-width: 600px;
margin: 0 auto;
}
#dtHorizontalVertical th, td {
white-space: nowrap;
}
table.dataTable thead .sorting:after,
table.dataTable thead .sorting:before,
table.dataTable thead .sorting_asc:after,
table.dataTable thead .sorting_asc:before,
table.dataTable thead .sorting_asc_disabled:after,
table.dataTable thead .sorting_asc_disabled:before,
table.dataTable thead .sorting_desc:after,
table.dataTable thead .sorting_desc:before,
table.dataTable thead .sorting_desc_disabled:after,
table.dataTable thead .sorting_desc_disabled:before {
bottom: .5em;
}
</style>
<script>
 $(document).ready(function () {
$('#dtHorizontalVertical').DataTable({
"scrollX": true,
"scrollY": 200,
});
$('.dataTables_length').addClass('bs-select');
});
</script> -->
<style>
    #table-wrapper {
        position: relative;
    }

    #table-scroll {
        height: 150px;
        overflow: auto;
        margin-top: 20px;
    }

    #table-wrapper table {
        width: 100%;

    }

    #table-wrapper table * {
        color: black;
    }

    #table-wrapper table thead th .text {
        position: absolute;
        top: -20px;
        z-index: 2;
        height: 20px;
        width: 35%;

    }
</style>
<div class="modal fade" id="myModal" role="dialog" aria-labelledby="myLargeModalLabel" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body" style="padding-bottom:3px">
                <div>
                    <h3 class="text-center">BÁO CÁO TAI NẠN NGOÀI Ý MUỐN</h3>
                </div>
                <form class="form-horizontal model-form " name="form">
                    <div ng-hide="userinfo.Company=='VC'">
                        <H4 style="background-color: #ececec; padding: 5px"> Thông tin chung </H4>
                        <div class=" form-group ">
                            <label class="col-sm-2 control-label">* Thời gian xảy ra tai nạn: </label>
                            <div class="col-sm-4">
                                <input type='text' class="form-control" id='datetimepicker4' name="ac_datetime"
                                    ng-model="recod.ac_datetime" />
                            </div>

                            <script type="text/javascript">
                                $(function () {
                                    $('#datetimepicker4').datetimepicker();
                                });
                            </script>

                            <label class="col-sm-2 control-label">* Biện pháp cải thiện phần mềm: </label>
                            <div class="col-sm-4">
                                <textarea class="form-control" type="text" name="ac_improvesoft"
                                    ng-model="recod.ac_improvesoft" />
                               
                            </div>
                        </div>
                        
                        <div class=" form-group ">
                            <label class="col-sm-2 control-label">* Địa điểm xảy ra tai nạn:  </label>
                            <div class="col-sm-4">
                                <select style="width:100%"  ui-select2 ng-model="recod.ac_location" name="ac_location" required>
                                    <option  value="Xưởng Dệt Nhuộm">Xưởng Dệt Nhuộm </option>
                                    <option  value="Xưởng Hóa Sợi"> Xưởng Hóa Sợi</option>
                                </select>
                            </div>
                                 
                            <label class="col-sm-2 control-label"> Đánh giá </label>
                            <div class="col-sm-4">
                                <select style="width:100%" ui-select2 ng-model="recod.ac_resultsoft" name="ac_resultsoft" required>
                                    <option  value="Rất tốt"> Rất tốt </option>
                                    <option  value="Tốt"> Tốt</option>
                                    <option  value="Trung bình"> Trung bình</option>
                                    <option value="Kém"> Kém </option>
                                    <option  value="Rất kém">Rất kém</option>
                                </select>
                            </div>
                        </div>
                             
                        <div class="form-group">
                            <label class="col-sm-2 control-label"></label>
                            <div class="col-sm-4">
                                <input type="file"  />
                            </div>

                            <label class="col-sm-2 control-label">*Biện pháp cải thiện phần cứng:</label>
                                <div class="col-sm-4">
                                    <textarea class="form-control" type="text" name="ac_improvehard" ng-model="recod.ac_improvehard " />
                                </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">*Loại tai nạn:</label>
                            <div class="col-sm-4">
                                <select style="width:100%" ui-select2 ng-model="recod.ac_type" name="ac_type" required>
                                    <option  value="Tai nạn lao động Nghiêm trọng"> Tai nạn lao động Nghiêm trọng</option>
                                    <option  value="Tai nạn lao động Nặng"> Tai nạn lao động Nặng</option>
                                    <option  value="Tai nạn lao động bị Nhẹ"> Tai nạn lao động bị Nhẹ</option>
                                </select>
                            </div>

                            <label class="col-sm-2 control-label">Đánh giá</label>
                            <div class="col-sm-4">
                                <select style="width:100%" ui-select2 ng-model="recod.ac_resulthard" name="ac_resulthard" required>
                                    <option  value="Rất tốt"> Rất tốt </option>
                                    <option  value="Tốt"> Tốt</option>
                                    <option  value="Trung bình"> Trung bình</option>
                                    <option value="Kém"> Kém </option>
                                    <option  value="Rất kém">Rất kém</option>
                                </select>
                            </div>
                        </div>
     
                        <div class="form-group">
                            <label class="col-sm-2 control-label">* Cách ngăn ngừa tai nạn tương tự: </label>
                            <div class="col-sm-4">
                                <textarea class="form-control" type="text" name="ac_prevent" ng-model="recod.ac_prevent" />
                            </div>

                            <label class="col-sm-2 control-label"> Thời gian hoàn thành cải thiện:</label>
                            <div class="col-sm-4">
                                <input class="form-control" type="text" name="ac_datecomp" ng-model="recod.ac_datecomp" 
                                        date-picker min="0" required />
                            </div>
                        </div>
                    </div>
                </form>

                <div ng-hide="userinfo.Company=='VC'">
                    <H4 style="background-color: #ececec; padding: 5px"> Thông tin nạn nhân </H4>
                        <form class="form-horizontal" role="form" name="formdetail" novalidate>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">* Mã nhân viên: </label>
                                <div class="col-sm-4">
                                    <input class="form-control" type="text" name="employeeID" ng-model="recod.employeeID" />
                                    <!-- <select style="width:100%" ui-select2 ng-model="gd.employeeID" name="employeeID" ng-change="changedValue(gd.employeeID)" required>
                                        <option ng-repeat="value in nhânviên" value="{{value.employeeID}}">
                                            {{value.employeeID}}
                                        </option>
                                    </select> -->
                                </div>
     
                                <label class="col-sm-2 control-label">* Tình hình xử lý sau bị thương: </label>
                                <div class="col-sm-4">
                                    <textarea class="form-control" type="text" name="ac_treatment" ng-model="recod.ac_treatment" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label">* Tình hình chi tiết quá trình bị thương: </label>
                                <div class="col-sm-4">
                                    <textarea class="form-control" type="text" name="ac_injury" ng-model="recod.ac_injury" />
                                </div>

                                <label class="col-sm-6 control-label">* Danh tính người chứng kiến hoặc người có quan hệ với nạn nhân
                                    (Người ngoài xưởng xin ghi rõ cách thức liên hệ):</label>
                                <div class="col-sm-6">
                                    <input class="form-control" type="text" name="ac_witness" ng-model="recod.ac_witness" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label"> </label>
                                <div class="col-sm-4">
                                    <input type="file"/>
                                </div>
                                   
                                <label class="col-sm-3 control-label"></label>
                                <div class="col-sm-3">
                                    <button id="btnSaveSubmit" type="button" class="btn btn-success" ng-click="saveSubmit()" >
                                        Thêm nạn nhân
                                    </button>
                                </div>
                            </div>
                        </form>

                        <div id="table-wrapper">
                            <div id="table-scroll">
                                <table id="temptable" ng-table="tableParams"  class="table table-bordered table-striped ">
                                <!-- <table id="dtHorizontalVertical" ng-table="tableParams" class="table table-striped table-bordered table-sm" width="100%"> -->
                                    <thead>     
                                        <tr>
                                            <th title="EmployeeID" >Mã nhân viên</th>
                                            <th title="'MethodName'" >Tên nhân viên</th>
                                            <th title="'MethodName'" >Giới tính</th>
                                            <th title="'MethodName'">Tuổi</th>
                                            <th title="'MethodName'">Đơn vị</th>
                                            <th title="'MethodName'" >Công việc đảm nhận</th>
                                            <th title="'MethodName'">Ngày vào làm</th>
                                            <th title="'Injury_Description'">Quá trình bị thương</th>
                                            <th title="'Witness_info'">Người chứng kiến</th>
                                            <th title="'Treatment_Result'">Cách xử lý</th>
                                            <th title="'update'">Sửa</th>
                                            <th title="'delete'" >Xóa</th>
                                        </tr>
                                    </thead>
                                     <!-- <tr ng-repeat="record in employee.rank_list"> 
                                         [Injury_Description],[Witness_info],[Treatment_Result]-->
                                    <tbody>
                                        <tr ng-repeat="ac in AccidentDetail">
                                            <td>{{ac.EmployeeID}}</td>
                                            <td>{{ac.}}</td>
                                            <td>{{ac.}}</td>
                                            <td>{{ac.}}</td>
                                            <td>{{ac.}}</td>
                                            <td>{{ac.}}</td>
                                            <td>{{ac.}}</td>
                                            <td>{{ac.Injury_Description}}</td>
                                            <td>{{ac.Witness_info}}</td>
                                            <td>{{ac.Treatment_Result}}</td>
                                            <td>
                                                <a ng-click="updateAccidentDetail($index)" class="btn-xs btn btn-success">  <span class="glyphicon glyphicon-pencil"></span></a>
                                            </td>
                                            <td>
                                                <a ng-click="deleteAccidentDetail($index)" class="btn-xs btn btn-danger">  <span class="glyphicon glyphicon-trash"></span></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>               
                </div>

                <div class="modal-footer">
                    <button id="btnSaveSubmit" type="button" class="btn btn-primary" ng-click="saveSubmit()" ng-disabled="form.$invalid||AccidentDetail.length<1"> saveSubmit</button>
                    <button type="button" class="btn btn-default" ng-click="reset()"> Close </button>
                </div>
            </div> 
        </div> 
    </div>
</div>   