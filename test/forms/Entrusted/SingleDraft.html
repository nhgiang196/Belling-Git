<div>
    <form class="form-horizontal" role="form" novalidate name="form" >
        <legend><h3>Entrusted Analysis</h3></legend>
        <div class="col-sm-12 form-group">
            <div class="form-group search-table">
                <div class="form-group">
                    <label class="col-sm-1 control-label">{{'Date'|translate}}</label>

                    <div class="col-sm-2">
                        <input type="text" class="form-control" name="dateFrom" ng-model="dateFrom" date-picker>
                    </div>

                    <label class="col-sm-1 control-label">{{'dateTo'|translate}}</label>

                    <div class="col-sm-2">
                        <input class="form-control" name="dateTo" ng-model="dateTo" date-picker >
                    </div>

                </div>
                <div class="form-group">
                    <label class="col-sm-1 control-label">{{'Status'|translate}}</label>

                    <div class="col-sm-2">
                        <select class="form-control" name="Status" ng-model="Status" required>
                            <option value=" ">All Plan</option>
                            <option value="N">New Plan</option>
                            <option value="U">Reject Plan</option>
                            <option value="Q">Allowed Plan</option>
                            <option value="X">Delete Plan</option>
                        </select>
                    </div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-2">
                        <label>
                            <input name="onlyOwner" type="checkbox" ng-model="onlyOwner"> {{'onlyOwner'|translate}}
                        </label>
                    </div>
                    <div class="col-sm-2" >
                        <button  type="button" class="btn btn-primary" ng-click="Search()">{{'Search'|translate}} </button>
                    </div>
                </div>
                <div style="width: 100%; margin-top: 20px">
                    <div id="Grid" ui-grid="gridOptions" class="grid" ui-grid-selection ui-grid-pagination
                         ui-grid-resize-columns
                         ui-grid-core ></div>
                </div>
                <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog modal-lg" style="width: 80%">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Create</h4>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label">Sample name</label>
                                            <div class="col-sm-6">
                                                <select class="form-control" name="SampleName" ng-model="sampleName"
                                                        ng-options="c.SampleName for c in sampleList">
                                                    <option value="">---请选择样品---</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label">Material specification</label>
                                            <div class="col-sm-6">
                                                <select class="form-control" name="SampleName" ng-model="Material"
                                                        ng-options="c.LOT_NO for c in materialList" >
                                                </select>
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label">Pick sample time</label>
                                            <div class="col-sm-6">
                                                <input class="form-control" type="text" name="pickTime" ng-model="pickTime"  date-picker time="Y-m-d H:i"/>
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label">Send sample date </label>
                                            <div class="col-sm-6">
                                                <input class="form-control" type="text" name="sendTime" ng-model="sendDate"  date-picker/>
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label">Need date </label>
                                            <div class="col-sm-6">
                                                <input class="form-control" type="text" name="needDate" ng-model="needDate"   date-picker/>
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label" >Sample source</label>
                                            <div class="col-sm-6">
                                                <input class="form-control" type="text" ng-model="sampleFrom" />
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label">Experimental purposes </label>
                                            <div class="col-sm-6">
                                                <input class="form-control" type="text" ng-model="Purpose" />
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label">Sample description </label>
                                            <div class="col-sm-6">
                                                <input class="form-control" ng-model="Spec" type="text" disabled >

                                                </input>
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label"> </label>
                                            <div class="col-sm-6">
                                                <label style="font-size:14px; color:blue;" class="col-sm-4 control-label" ng-model="VoucherID">{{VoucherID}} </label>
                                            </div>
                                        </div>
                                        <div class=" form-group ">
                                            <label class="col-sm-4 control-label"> </label>
                                            <div class="col-sm-6">
                                                <input style="font-size:14px; color: red" class="form-control" ng-model="DraftID" type="text" disabled >

                                                </input>
                                            </div>
                                        </div>
                                        <div class="form-group" style="padding-top: 5px">
                                            <label class="col-sm-4 control-label"> </label>
                                            <div class="col-sm-6">
                                                <button type="button" class="btn btn-primary" style="width: 85px" ng-click="CreateVoucher()">Add</button>
                                                <button type="button" class="btn btn-default" ng-click="Clear()">Finish this entrusted</button>
                                            </div>
                                        </div>
                                        <!--<div class=" form-group ">-->
                                            <!--<label class="col-sm-4 control-label"> </label>-->
                                            <!--<div class="col-sm-6">-->
                                                <!--<div ng-repeat="x in voucherList">-->
                                                    <!--{{x.VoucherID}}</br></br>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                    </div>
                                    <div class="col-sm-4" >
                                        <div ng-repeat="item in example">
                                    <span ng-repeat="i in item" class="col-xs-4">
                                        <input  ng-click="getProperty(i)" type="checkbox" id="{{i.PropertyName}}" value="{{i.PropertyName}}">
                                        {{i.PropertyName}}
                                    </span>
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <table class="table table-bordered ">
                                        <tr style=" background-color: #ececec">
                                            <th>{{'VoucherID'|translate}}</th>
                                            <th>{{'SampleName'|translate}}</th>
                                            <th>{{'PropertyName'|translate}}</th>
                                        </tr>
                                        <tr ng-repeat="(key, value) in voucherProp | groupBy:'[VoucherID]'">
                                            <td>
                                                <div>
                                                    {{key}}
                                                </div>
                                            </td>
                                            <td>
                                                <div>
                                                    {{value[0].SampleName}}
                                                </div>
                                            </td>
                                            <td>
                                                <span ng-repeat="item in value" ng-class="{'last': $last}">
                                                    {{item.PropertyName}}<label ng-if="!$last">,</label>
                                                </span>
                                            </td>
                                        </tr>
                                    </table>
                                    <!--<span ng-repeat="item in voucherProp">-->
                                        <!--<div class="col-xs-3">{{item.VoucherID}}</div>-->
                                        <!--<div class="col-xs-3">{{item.SampleName}}</div>-->
                                        <!--<div class="col-xs-3">{{item.PropertyName}}</div>-->
                                    <!--</span>-->
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" ng-click="Close()">{{'Close'|translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

        </div>

    </form>
</div>
